{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst baseUrl = 'https://pixabay.com/api/';\nconst key = '46672316-334fc4a904d955c3d11f52bb4';\nconst imageType = 'photo';\nconst safesearch = true;\nconst orientation = 'horizontal';\n\nexport const search = async words => {\n  try {\n    const params = new URLSearchParams({\n      key,\n      safesearch,\n      orientation,\n      q: words,\n      image_type: imageType,\n    });\n\n    const response = await fetch(`${baseUrl}?${params.toString()}`);\n    const json = await response.json();\n\n    if (!json.hits.length) {\n      return iziToast.error({ \n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight'\n      });\n    }\n\n    return json.hits;\n  } catch (error) {\n    console.error(`Serch is failed with words: \"${words}\"`, error);\n  }\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst $gallery = document.querySelector('.gallery');\n\nexport const showLoading = () => {\n  $gallery.innerHTML = '<p id=\"loading\">Loading...</p>';\n};\n\nexport const clearLoading = () => {\n  $gallery.innerHTML = '';\n};\n\nexport const renderImages = images => {\n  $gallery.innerHTML = '';\n\n  if (images.length === 0) {\n    iziToast.error({\n      message: 'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  const markup = images\n    .map(\n      ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n    <div class=\"gallery-item\">\n      <a href=\"${largeImageURL}\" class=\"gallery-link\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" class=\"gallery-image\"/>\n      </a>\n      <div class=\"gallery-info\">\n        <p><strong>Likes</strong> ${likes}</p>\n        <p><strong>Views</strong> ${views}</p>\n        <p><strong>Comments</strong> ${comments}</p>\n        <p><strong>Downloads</strong> ${downloads}</p>\n      </div>\n    </div>\n  `\n    )\n    .join('');\n\n  $gallery.innerHTML = markup;\n\n  const lightbox = new SimpleLightbox('.gallery a');\n  lightbox.refresh();\n};\n","import * as api from './js/pixabay-api';\nimport * as render from './js/render-functions';\n\nconst $searchForm = document.querySelector('#search-form');\n\n$searchForm.onsubmit = async event => {\n  try {\n    // TODO: start loading\n    event.stopPropagation();\n    event.preventDefault();\n\n    const data = new FormData(event.target);\n    const search = data.get('search');\n    const parsedWords = search.trim().split(' ').join('+');\n\n    if (!parsedWords) {\n      iziToast.error({\n        message: 'Please enter a search term!',\n        position: 'topRight',\n      });\n      return;\n    }\n\n    render.showLoading();\n    const images = await api.search(parsedWords);\n    if (images) render.renderImages(images);\n    if (!images) render.clearLoading();\n  } catch (error) {\n    console.error(error);\n  }\n};\n"],"names":["baseUrl","key","imageType","safesearch","orientation","search","words","params","json","iziToast","error","$gallery","showLoading","clearLoading","renderImages","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","$searchForm","event","parsedWords","render.showLoading","api.search","render.renderImages","render.clearLoading"],"mappings":"6vBAGA,MAAMA,EAAU,2BACVC,EAAM,qCACNC,EAAY,QACZC,EAAa,GACbC,EAAc,aAEPC,EAAS,MAAMC,GAAS,CACnC,GAAI,CACF,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAAN,EACA,WAAAE,EACA,YAAAC,EACA,EAAGE,EACH,WAAYJ,CAClB,CAAK,EAGKM,EAAO,MADI,MAAM,MAAM,GAAGR,CAAO,IAAIO,EAAO,UAAU,EAAE,GAClC,OAE5B,OAAKC,EAAK,KAAK,OAORA,EAAK,KANHC,EAAS,MAAM,CACpB,QAAS,2EACT,SAAU,UAClB,CAAO,CAIJ,OAAQC,EAAO,CACd,QAAQ,MAAM,gCAAgCJ,CAAK,IAAKI,CAAK,CAC9D,CACH,EC5BMC,EAAW,SAAS,cAAc,UAAU,EAErCC,EAAc,IAAM,CAC/BD,EAAS,UAAY,gCACvB,EAEaE,EAAe,IAAM,CAChCF,EAAS,UAAY,EACvB,EAEaG,EAAeC,GAAU,CAGpC,GAFAJ,EAAS,UAAY,GAEjBI,EAAO,SAAW,EAAG,CACvBN,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,UAChB,CAAK,EACD,MACD,CAED,MAAMO,EAASD,EACZ,IACC,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,iBAEnEL,CAAa;AAAA,oBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,oCAGVC,CAAK;AAAA,oCACLC,CAAK;AAAA,uCACFC,CAAQ;AAAA,wCACPC,CAAS;AAAA;AAAA;AAAA,GAI5C,EACA,KAAK,EAAE,EAEVZ,EAAS,UAAYK,EAEJ,IAAIQ,EAAe,YAAY,EACvC,QAAO,CAClB,EC7CMC,EAAc,SAAS,cAAc,cAAc,EAEzDA,EAAY,SAAW,MAAMC,GAAS,CACpC,GAAI,CAEFA,EAAM,gBAAe,EACrBA,EAAM,eAAc,EAIpB,MAAMC,EAFO,IAAI,SAASD,EAAM,MAAM,EAClB,IAAI,QAAQ,EACL,KAAM,EAAC,MAAM,GAAG,EAAE,KAAK,GAAG,EAErD,GAAI,CAACC,EAAa,CAChB,SAAS,MAAM,CACb,QAAS,8BACT,SAAU,UAClB,CAAO,EACD,MACD,CAEDC,IACA,MAAMb,EAAS,MAAMc,EAAWF,CAAW,EACvCZ,GAAQe,EAAoBf,CAAM,EACjCA,GAAQgB,GACd,OAAQrB,EAAO,CACd,QAAQ,MAAMA,CAAK,CACpB,CACH"}